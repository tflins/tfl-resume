var t,e;(t=window.document).getElementById("livereloadscript")||((e=t.createElement("script")).async=1,e.src="//"+(window.location.host||"localhost").split(":")[0]+":35729/livereload.js?snipver=1",e.id="livereloadscript",t.getElementsByTagName("head")[0].appendChild(e));var i=function(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1},n=function(t,e){if(t){for(var n=t.className,o=(e||"").split(" "),s=0,c=o.length;s<c;s++){var a=o[s];a&&(t.classList?t.classList.add(a):i(t,a)||(n+=" "+a))}t.classList||(t.className=n)}},o=function(){function t(){var t,e;this.$navBtns=[],this.isScrolling=!1,this.$container=(t=".t-full-page",void 0===e&&(e=document),e.querySelector(t)),this.viewHeight=document.documentElement.clientHeight,this.pageCount=function(t,e){return void 0===e&&(e=document),e.querySelectorAll(t)}(".t-page",this.$container).length,this.curPosition=0,this.curIndex=0,this.init()}return t.prototype.init=function(){this.$container.style.height=this.viewHeight+"px",this.bindEvt(),this.createNavBtn()},t.prototype.bindEvt=function(){var t=this,e=function(t,e,i){void 0===i&&(i=1e3);var n=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];n||(t.apply(e,o),n=!0,setTimeout((function(){n=!1}),i))}}(this.scrollMouse,this,1e3);document.addEventListener("wheel",e),window.addEventListener("resize",(function(e){t.onWindowResize(e)}));var i=0;document.addEventListener("touchstart",(function(t){i=t.touches[0].pageY})),document.addEventListener("touchend",(function(e){e.changedTouches[0].pageY-i<0?t.up():t.down()}))},t.prototype.down=function(){this.curIndex<=0||(console.log("向下滚动"),this.curIndex--,this.goToPage(this.curIndex))},t.prototype.up=function(){this.curIndex>=this.pageCount-1||(console.log("向上滚动"),this.curIndex++,this.goToPage(this.curIndex))},t.prototype.goToPage=function(t){var e=this;this.isScrolling=!0,this.curPosition=-this.viewHeight*t,this.$container.style.top=this.curPosition+"px",this.setCurActiveBtn(this.curIndex),setTimeout((function(){e.isScrolling=!1}),1e3)},t.prototype.scrollMouse=function(t){this.isScrolling||(function(t){return t.deltaY}(t)>0?this.up():this.down())},t.prototype.createNavBtn=function(){var t=this,e=document.createElement("div"),i=document.createElement("ul");n(i,"nav-list"),n(e,"t-full-page__nav");for(var o=0;o<this.pageCount;o++){var s=document.createElement("li");s.setAttribute("page-index",o.toString()),n(s,"nav-list-item"),this.$navBtns.push(s),i.appendChild(s)}n(this.$navBtns[0],"active"),e.appendChild(i),this.$container.appendChild(e),i.addEventListener("click",(function(e){t.onClickNavBtn(e)}))},t.prototype.setCurActiveBtn=function(t){this.$navBtns.forEach((function(t){return function(t,e){if(t&&e){for(var n=e.split(" "),o=" "+t.className+" ",s=0,c=n.length;s<c;s++){var a=n[s];a&&(t.classList?t.classList.remove(a):i(t,a)&&(o=o.replace(" "+a+" "," ")))}t.classList||(t.className=(o||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}}(t,"active")})),n(this.$navBtns[t],"active")},t.prototype.onClickNavBtn=function(t){var e=t.target;i(e,"nav-list-item")&&(this.curIndex=~~e.getAttribute("page-index"),this.goToPage(this.curIndex)),t.stopPropagation()},t.prototype.onWindowResize=function(t){this.viewHeight=document.documentElement.clientHeight,this.$container.style.height=this.viewHeight+"px",this.goToPage(this.curIndex)},t.prototype.nextPage=function(){this.up()},t.prototype.prevPage=function(){this.down()},t}();export default o;
//# sourceMappingURL=bundle.umd.js.map
